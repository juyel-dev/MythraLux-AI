<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Offline AI WASM</title>

  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./tailwind.css" />

  <meta name="theme-color" content="#2563eb" />
</head>

<body class="bg-gray-900 text-white h-screen overflow-hidden">

<div class="max-w-2xl mx-auto h-full flex flex-col p-4">

  <!-- HEADER -->
  <header class="text-center mb-3">
    <h1 class="text-2xl font-bold text-blue-400">Offline AI WASM</h1>
    <p class="text-xs text-gray-400">100% On-Device Â· No Internet After Load</p>
  </header>

  <!-- MODEL PANEL -->
  <section class="bg-gray-800 p-3 rounded-lg mb-3 space-y-2">
    <select id="modelSelect" class="w-full bg-gray-700 p-2 rounded">
      <option value="Llama-3.2-1B-Instruct-q4f16_1-MLC">Llama 3.2 1B (Fast)</option>
      <option value="SmolLM2-135M-Instruct-q4f16_1-MLC">SmolLM2 135M (Tiny)</option>
      <option value="gemma-2b-it-q4f16_1-MLC">Gemma 2B (Smart)</option>
    </select>

    <textarea id="systemPrompt"
      class="w-full bg-gray-700 p-2 rounded text-xs"
      rows="2"
      placeholder="System prompt (optional)..."></textarea>

    <button id="loadBtn"
      class="w-full bg-blue-600 hover:bg-blue-700 p-2 rounded font-bold">
      Load Model
    </button>

    <div id="status" class="text-xs text-yellow-400">Idle</div>

    <div class="w-full bg-gray-600 h-1 rounded hidden" id="progressWrap">
      <div id="progressBar" class="bg-blue-400 h-1 w-0"></div>
    </div>
  </section>

  <!-- CHAT -->
  <main id="chatBox"
    class="flex-1 bg-gray-800 rounded-lg p-3 overflow-y-auto space-y-3 text-sm">
    <div class="text-gray-500 text-center mt-10">
      Load a model to begin offline chat
    </div>
  </main>

  <!-- INPUT -->
  <footer class="mt-3 flex gap-2">
    <input id="userInput"
      class="flex-1 bg-gray-800 p-3 rounded outline-none"
      placeholder="Type message..." />

    <button id="sendBtn"
      class="bg-blue-600 p-3 rounded disabled:opacity-40"
      disabled>
      Send
    </button>
  </footer>

</div>

<script type="module" src="./app.js"></script>

</body>
</html>
